<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
<title>Cadastro completo</title>
</h:head>

<h:body>
	<h:form id="cadastro">

		<p:growl id="growl" life="3000" showDetail="true" />

		<p:wizard flowListener="#{cadastroBean.onFlowProcess}">

			<p:tab id="pessoal" title="Pessoal">
				<p:panel header="Informações Pessoais">

					<p:messages autoUpdate="true" />

					<h:panelGrid columns="2">
					
						<p:outputLabel value="Nome Completo:" for="nome" />
						<p:inputText value="#{cadastroBean.pessoa.nomeCompleto}" id="nome" 
						required="true" requiredMessage="O campo 'Nome Completo' é obrigatório."
						validator="nomeCompletoValidator" >
							<p:keyFilter regEx="/[a-záàâãéèêíïóôõöúçñ ]/i" />
						</p:inputText>
						
						<p:outputLabel value="Estado: " for="estado"/>
						<p:selectOneMenu value="#{cadastroBean.pessoa.estado}" id="estado"
							 required="true" requiredMessage="Selecione um 'Estado' válido.">
						 	
							<f:selectItem itemLabel="Selecione o estado" itemValue="#{null}" itemDisabled="true"/>
							<f:selectItems value="#{cadastroBean.estados}" var="estado" 
								itemLabel="#{estado}" itemValue="#{estado}"/>
							<p:ajax/>
						</p:selectOneMenu>
						
						<p:outputLabel value="Cidade:" for="cidade" />
						<p:autoComplete value="#{cadastroBean.pessoa.cidade}" completeMethod="#{cadastroBean.completeText}" id="cidade" 
							required="true" requiredMessage="O campo 'Cidade' é obrigatório."
							validator="#{validatorBean.cidadeValidator}"/>
						
						<p:outputLabel value="Nascimento:" for="nascimento" />
						<p:inputMask value="#{cadastroBean.pessoa.nascimento}"
							id="nascimento" mask="99/99/9999"
							required="true" requiredMessage="O campo 'Nascimento' é obrigatório." 
							converter="javax.faces.DateTime" converterMessage="Data de nascimento inválida."/>

						<p:outputLabel value="Sexo:" for="sexo" />
						<p:selectOneRadio value="#{cadastroBean.pessoa.sexo}" id="sexo"
							required="true"  requiredMessage="Escolha o seu 'Sexo'.">
							<f:selectItem itemLabel="Masculino" itemValue="m" />
							<f:selectItem itemLabel="Feminino" itemValue="f" />
						</p:selectOneRadio>

						<p:outputLabel value="Estado Civil:" for="estadoCivil" />
						<p:selectOneMenu value="#{cadastroBean.pessoa.estadoCivil}"
							id="estadoCivil" 
							required="true" requiredMessage="Selecione um 'Estado Civil' válido.">
							<f:selectItem itemLabel="Selecione o estado civil" itemValue="#{null}" itemDisabled="true" />
							<f:selectItem itemLabel="Solteiro(a)" itemValue="solteiro(a)" />
							<f:selectItem itemLabel="Casado(a)" itemValue="casado(a)" />
							<f:selectItem itemLabel="União Estável" itemValue="união estável" />
							<f:selectItem itemLabel="Divorciado(a)" itemValue="divorciado(a)" />
							<f:selectItem itemLabel="Viúvo(a)" itemValue="viúvo(a)" />
						</p:selectOneMenu>

					</h:panelGrid>
				</p:panel>
			</p:tab>

			<p:tab id="Endereco" title="Endereço">
				<p:panel header="Detalhes do Endereço">

					<p:messages />

					<h:panelGrid columns="2">

						<p:outputLabel value="CEP:" for="cep" />
						<p:inputText value="#{cadastroBean.pessoa.cep}" id="cep"
							maxlength="8" />

						<p:outputLabel value="Endereço:" for="endereco" />
						<p:inputText value="#{cadastroBean.pessoa.endereco}" id="endereco" />

						<p:outputLabel value="N°:" for="numeroCasa" />
						<p:inputText value="#{cadastroBean.pessoa.numero}" id="numeroCasa" />

						<p:outputLabel value="Complemento:" for="complemento" />
						<p:inputText value="#{cadastroBean.pessoa.complemento}"
							id="complemento" />

						<p:outputLabel value="Bairro:" for="bairro" />
						<p:inputText value="#{cadastroBean.pessoa.bairro}" id="bairro" />

					</h:panelGrid>
				</p:panel>
			</p:tab>

			<p:tab id="contato" title="Contato">
				<p:panel header="Informações do contato">

					<p:messages />

					<h:panelGrid columns="2">

						<p:outputLabel value="Telefone:" for="telefone" />
						<h:panelGrid id="telefone" columns="2" cellspacing="0"
							cellpadding="0">
							<p:inputText value="#{cadastroBean.pessoa.telefone.ddd}" id="ddd"
								size="1" maxlength="2" style="margin-right: 3px;" />
							<p:inputText value="#{cadastroBean.pessoa.telefone.numero}"
								id="numero" size="14" maxlength="9" />
						</h:panelGrid>

						<p:outputLabel value="E-mail:" for="email" />
						<p:inputText value="#{cadastroBean.pessoa.email}" id="email" />

						<p:outputLabel value="Usuário:" for="usuario" />
						<p:inputText value="#{cadastroBean.pessoa.usuario}" id="usuario" />

						<p:outputLabel value="Senha:" for="senha" />
						<h:inputSecret value="#{cadastroBean.pessoa.senha}" id="senha" />

						<p:outputLabel value="Confirmar Senha:" for="confirmarSenha" />
						<h:inputSecret value="#{cadastroBean.pessoa.senha}"
							id="confirmarSenha" />

					</h:panelGrid>
				</p:panel>
			</p:tab>

			<p:tab id="confirmacao" title="Confirmação">
				<p:panel header="Verifique seus dados">
					<h:panelGrid id="confirm" columns="3">
						<h:panelGrid columns="2">

							<p:outputLabel value="Nome Completo:" />
							<p:outputLabel value="#{cadastroBean.pessoa.nomeCompleto}" />

							<p:outputLabel value="Cidade:" />
							<p:outputLabel value="#{cadastroBean.pessoa.cidade}" />

							<p:outputLabel value="Estado:" />
							<p:outputLabel value="#{cadastroBean.pessoa.estado}" />

							<p:outputLabel value="Nascimento:" />
							<p:outputLabel value="#{cadastroBean.pessoa.nascimento}" />

							<p:outputLabel value="Sexo:" />
							<p:outputLabel value="#{cadastroBean.pessoa.sexo}" />

							<p:outputLabel value="Estado Civil:" />
							<p:outputLabel value="#{cadastroBean.pessoa.estadoCivil}" />

						</h:panelGrid>

						<h:panelGrid columns="2">

							<p:outputLabel value="CEP:" />
							<p:outputLabel value="#{cadastroBean.pessoa.cep}" />

							<p:outputLabel value="Endereço:" />
							<p:outputLabel value="#{cadastroBean.pessoa.endereco}" />

							<p:outputLabel value="N°:" />
							<p:outputLabel value="#{cadastroBean.pessoa.numero}" />

							<p:outputLabel value="Complemento:" />
							<p:outputLabel value="#{cadastroBean.pessoa.complemento}" />

							<p:outputLabel value="Bairro:" />
							<p:outputLabel value="#{cadastroBean.pessoa.bairro}" />

						</h:panelGrid>

						<h:panelGrid columns="2">

							<p:outputLabel value="Telefone:" />
								<h:panelGrid columns="2">
									<p:outputLabel value="( #{cadastroBean.pessoa.telefone.ddd} ) " />
									<p:outputLabel value="#{cadastroBean.pessoa.telefone.numero}" />
								</h:panelGrid>

							<p:outputLabel value="E-mail:" />
							<p:outputLabel value="#{cadastroBean.pessoa.email}" />

							<p:outputLabel value="Usuário:" />
							<p:outputLabel value="#{cadastroBean.pessoa.usuario}" />

							<p:outputLabel value="Senha:" />
							<p:outputLabel value="#{cadastroBean.pessoa.senha}" />

						</h:panelGrid>
					</h:panelGrid>
					<p:commandButton actionListener="#{cadastroBean.salvar}" value="Salvar Dados Pessoais" update="growl" />
				</p:panel>
			</p:tab>
		</p:wizard>
	</h:form>
</h:body>
</html>
